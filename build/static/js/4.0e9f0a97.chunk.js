(this.webpackJsonpproductsAPP=this.webpackJsonpproductsAPP||[]).push([[4],{139:function(t,e,c){"use strict";var n={getLoading:function(t){return t.products.loading},getAllProducts:function(t){return t.products.products},getAllPages:function(t){return t.products.page},getError:function(t){return t.products.error}};e.a=n},140:function(t,e,c){"use strict";c.d(e,"a",(function(){return b}));var n=c(2),a=c(0),r=c(153),i=(c(16),c(139)),s=c(20),o=c(5),u=c(13),l=c(141),j=c.n(l);function b(t){var e=t.message,c=Object(u.b)(),l=(Object(u.c)(i.a.getError),Object(u.c)(s.a.getError)),b=Object(a.useCallback)((function(){return c(o.a.clearError())}),[c]);return Object(a.useEffect)((function(){setTimeout((function(){b()}),2500)}),[l,b]),Object(n.jsx)(r.a,{in:e,timeout:250,classNames:j.a,unmountOnExit:!0,children:Object(n.jsx)("div",{className:j.a.overlay,children:Object(n.jsx)("p",{className:j.a.message,children:e})})})}},141:function(t,e,c){t.exports={overlay:"Notification_overlay__25sWX",message:"Notification_message__Qx2_p",enter:"Notification_enter__1cwAv",enterActive:"Notification_enterActive__4XaJn",exit:"Notification_exit__1Nbxi",exitActive:"Notification_exitActive__XLBCH"}},142:function(t,e,c){"use strict";var n=c(27),a=c.n(n),r=c(38),i=c(25),s=c.n(i),o=c(30),u=c(16);Object(o.b)();var l={fetchProducts:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(){var e=Object(r.a)(a.a.mark((function e(c,n){var r,i,l,j;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n(),i=r.auth.token){e.next=3;break}return e.abrupt("return");case 3:return Object(o.a)().set(i),c(Object(u.f)()),e.prev=5,e.next=8,s.a.get("/api/products?page=".concat(t));case 8:l=e.sent,j=l.data,Object(o.a)().set(j.token),c(Object(u.g)(j)),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(5),c(Object(u.b)(e.t0.message));case 17:case"end":return e.stop()}}),e,null,[[5,14]])})));return function(t,c){return e.apply(this,arguments)}}()}};e.a=l},143:function(t,e,c){"use strict";var n=c(2),a=(c(0),c(144)),r=c.n(a);e.a=function(){return Object(n.jsx)("h1",{className:r.a.logo,children:"Products"})}},144:function(t,e,c){t.exports={logo:"Logo_logo__36VSw"}},148:function(t,e,c){t.exports={item:"ProductItem_item__1nsOE",title:"ProductItem_title__2ihAe",button:"ProductItem_button__2UUXc"}},149:function(t,e,c){},150:function(t,e,c){},151:function(t,e,c){t.exports={list:"ProductsList_list__1fF7Q",enter:"ProductsList_enter__1S97B",enterActive:"ProductsList_enterActive__1a0H0",exit:"ProductsList_exit__3DtYw",exitActive:"ProductsList_exitActive__3J03y"}},155:function(t,e,c){"use strict";c.r(e),c.d(e,"default",(function(){return N}));var n=c(2),a=c(0),r=c(13),i=c(153),s=c(143),o=c(140),u=c(35),l=c(137),j=c(21),b=c(148),d=c.n(b),f=function(t){var e=t.id,c=t.title,a=t.price,r=t.image;return Object(n.jsxs)("li",{className:d.a.item,children:[Object(n.jsx)("img",{src:r,alt:c}),Object(n.jsx)("h1",{className:d.a.title,children:c}),Object(n.jsx)("p",{className:d.a.price,children:a}),Object(n.jsx)(j.b,{to:"/products/".concat(c),className:"NavLink",activeClassName:"NavLink--active",children:Object(n.jsx)("button",{className:d.a.button,type:"button",children:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"})})]},e)},m=(c(30),c(149)),p=c.n(m),O=function(t){var e=t.page,c=t.onClick;return Object(n.jsx)("li",{className:p.a.item,children:Object(n.jsx)(j.b,{to:"/products?page=".concat(e),onClick:c,className:"NavLink",activeClassName:"NavLink--active",children:Object(n.jsx)("p",{className:p.a.label,children:e})})},e)},x=c(142),_=c(139);c(150);c(20);var v=c(151),g=c.n(v);function h(){var t=Object(r.c)(_.a.getAllProducts),e=Object(r.b)();Object(a.useEffect)((function(t){e(x.a.fetchProducts(t))}),[e]);for(var c=[],s=1;s<=Math.ceil(20);s++)c.push(s);return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(l.a,{component:"ul",className:g.a.list,children:c.map((function(t){return Object(n.jsx)(i.a,{timeout:250,classNames:g.a,children:Object(n.jsx)(O,{page:t,onClick:function(){e(x.a.fetchProducts(t))}})},t)}))}),Object(n.jsx)(l.a,{component:"ul",className:g.a.list,children:0!==t.length&&t.data.map((function(t){var e=t.id,c=t.title,a=t.price,r=t.thumbnail;return Object(n.jsx)(i.a,{timeout:250,classNames:g.a,children:Object(n.jsx)(f,{id:e,title:c,price:a,image:r})},e)}))})]})}function N(){var t=Object(r.c)(_.a.getAllProducts),e=Object(r.c)(_.a.getLoading),c=Object(r.c)(_.a.getError);return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(s.a,{}),Object(n.jsx)(o.a,{message:c}),e&&Object(n.jsx)(u.a,{}),Object(n.jsx)(i.a,{in:0!==t.length,timeout:0,ommountOnExit:!0,children:Object(n.jsx)(h,{})})]})}}}]);
//# sourceMappingURL=4.0e9f0a97.chunk.js.map